<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>GObject_introspection__Repository (ocaml-gobject-introspection.GObject_introspection__Repository)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">ocaml-gobject-introspection</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">GObject_introspection__Repository</span></h1></header><p>Repository — GObject Introspection repository manager module
Repository is used to manage repositories of namespaces. Namespaces are
represented on disk by type libraries (.typelib files).</p><p>Repository — GObject Introspection repository manager module
Repository is used to manage repositories of namespaces. Namespaces are
represented on disk by type libraries (.typelib files).</p><div class="spec type" id="type-repository"><a href="#type-repository" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>repository</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-typelib"><a href="#type-typelib" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>typelib</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-get_default"><a href="#val-get_default" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_default : unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-repository">repository</a></code></div><div class="doc"><p>Returns the singleton process-global default Repository.</p></div></div><div class="spec val" id="val-require"><a href="#val-require" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>require : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> ?&#8288;version:string <span class="keyword">&#8209;&gt;</span> unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-typelib">typelib</a> option</code></div><div class="doc"><p>Force the namespace namespace_ to be loaded if it isn't already. If
namespace_ is not loaded, this function will search for a &quot;.typelib&quot; file
using the repository search path. In addition, a version version of
namespace may be specified. If version is not specified, the latest will be
used).</p></div></div><div class="spec val" id="val-get_loaded_namespaces"><a href="#val-get_loaded_namespaces" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_loaded_namespaces : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string list</code></div><div class="doc"><p>Return the list of currently loaded namespaces.</p></div></div><div class="spec val" id="val-get_dependencies"><a href="#val-get_dependencies" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_dependencies : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string list</code></div><div class="doc"><p>Return an list of all (transitive) versioned dependencies for namespace_ .
Returned strings are of the form namespace-version.
Note: namespace_ must have already been loaded using a function such as
Repository.require before calling this function. To get only the immediate
dependencies for namespace_ , use Repository.get_immediate_dependencies.</p></div></div><div class="spec val" id="val-get_c_prefix"><a href="#val-get_c_prefix" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_c_prefix : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>This function returns the &quot;C prefix&quot;, or the C level namespace associated
with the given introspection namespace. Each C symbol starts with this
prefix, as well each GType in the library.
Note: The namespace must have already been loaded using a function such as
Repository.require before calling this function.</p></div></div><div class="spec val" id="val-get_version"><a href="#val-get_version" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_version : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>This function returns the loaded version associated with the given
namespace namespace_ .
Note: The namespace must have already been loaded using a function such as
Repository.require before calling this function.</p></div></div><div class="spec val" id="val-get_typelib_path"><a href="#val-get_typelib_path" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_typelib_path : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p>If namespace namespace_ is loaded, return the full path to the .typelib
file it was loaded from. If the typelib for namespace namespace_ was
included in a shared library, return the special string &quot;&lt;builtin&gt;&quot;.</p></div></div><div class="spec val" id="val-enumerate_versions"><a href="#val-enumerate_versions" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>enumerate_versions : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string list</code></div><div class="doc"><p>Obtain an unordered list of versions (either currently loaded or available)
for namespace_ in this repository .</p></div></div><div class="spec val" id="val-get_search_path"><a href="#val-get_search_path" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_search_path : unit <span class="keyword">&#8209;&gt;</span> string list</code></div><div class="doc"><p>Returns the current search path Repository will use when loading typelib
files. The list is internal to GIRespository and should not be freed, nor
should its string elements.</p></div></div><div class="spec val" id="val-prepend_search_path"><a href="#val-prepend_search_path" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>prepend_search_path : string <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Prepends directory to the typelib search path. See
Repository.get_search_path.</p></div></div><div class="spec val" id="val-find_by_name"><a href="#val-find_by_name" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>find_by_name : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="../GObject_introspection/Base_info/index.html#type-t">GObject_introspection.Base_info.t</a> Ctypes.structure Ctypes.ptr option</code></div><div class="doc"><p>Searches for a particular entry in a namespace. Before calling this
function for a particular namespace, you must call Repository.require
once to load the namespace, or otherwise ensure the namespace has already
been loaded.</p></div></div><div class="spec val" id="val-get_n_infos"><a href="#val-get_n_infos" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_n_infos : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>This function returns the number of metadata entries in given namespace
namespace_ . The namespace must have already been loaded before calling
this function.</p></div></div><div class="spec val" id="val-get_info"><a href="#val-get_info" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_info : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="../GObject_introspection/Base_info/index.html#type-t">GObject_introspection.Base_info.t</a> Ctypes.structure Ctypes.ptr</code></div><div class="doc"><p>This function returns a particular metadata entry in the given namespace
namespace_ . The namespace must have already been loaded before calling
this function. See Repository.get_n_infos to find the maximum number of
entries.</p></div></div><div class="spec val" id="val-get_shared_library"><a href="#val-get_shared_library" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_shared_library : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string option</code></div><div class="doc"><p>This function returns a comma-separated list of paths to the shared C
libraries associated with the given namespace namespace_ . There may be no
shared library path associated, in which case this function will return
NULL.
Note: The namespace must have already been loaded using a function such as
Repository.require before calling this function.</p></div></div><div class="spec val" id="val-prepend_library_path"><a href="#val-prepend_library_path" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>prepend_library_path : string <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Prepends directory to the search path that is used to search shared
libraries referenced by imported namespaces. Multiple calls to this
function all contribute to the final list of paths. The list of paths is
unique and shared for all Repository instances across the process, but it
doesn't affect namespaces imported before the call.
If the library is not found in the directories configured in this way,
loading will fall back to the system library path (ie. LD_LIBRARY_PATH and
DT_RPATH in ELF systems). See the documentation of your dynamic linker for
full details.</p></div></div><div class="spec type" id="type-gtype"><a href="#type-gtype" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>gtype</code><code><span class="keyword"> = </span>int64</code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-gtype"><a href="#val-gtype" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>gtype : int64 Ctypes.typ</code></div><div class="doc"></div></div><div class="spec val" id="val-find_by_gtype"><a href="#val-find_by_gtype" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>find_by_gtype : <a href="index.html#type-repository">repository</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-gtype">gtype</a> <span class="keyword">&#8209;&gt;</span> <a href="../GObject_introspection/Base_info/index.html#type-t">GObject_introspection.Base_info.t</a> Ctypes.structure Ctypes.ptr option</code></div><div class="doc"><p>Searches all loaded namespaces for a particular #GType. Note that
in order to locate the metadata, the namespace corresponding to
the type must first have been loaded. There is currently no
mechanism for determining the namespace which corresponds to an
arbitrary GType - thus, this function will operate most reliably
when you know the GType to originate from be from a loaded namespace.</p></div></div></body></html>